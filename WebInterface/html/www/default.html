<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
</head>
<body onload="onLoad()">

    <script src="javascript/Constants.js" type="text/javascript"></script>
    <script src="javascript/Header.js" type="text/javascript"></script>
    <script src="javascript/RestClient.js" type="text/javascript"></script>

    <script type="text/javascript">

        var _constants = new Constants();
        _constants.Init();

        function onLoad()
        {
            loadHeader(_constants.HtmlWebSvcPath, function ()
            {
                getUsername(_constants.SystemWebSvcPath);
            });

            loadMainDashboard();
        }

        function loadMainDashboard()
        {
            var restClient = new RestClient(_constants.HtmlWebSvcPath);
            restClient.GetHtml("/parts/mainDash.html", function (restCallbackObj)
            {
                document.getElementById("divContainer").innerHTML = restCallbackObj.ResponseText;
            });
        }

        function loadHtmlPart(path, loadFunction)
        {
            var rc = new RestClient(_constants.HtmlWebSvcPath);
            rc.GetHtml(path, function (restCallbackObj)
            {
                if (restCallbackObj.StatusCode == 200)
                {
                    document.getElementById("divContainer").innerHTML = restCallbackObj.ResponseText;
                    loadFunction();
                }
                else
                {
                    //
                    // show the user some error here....
                    //
                }
            });
        }

        function loadJobs()
        {
            _jobs = new Jobs();
            _jobs.GetJobs();
        }


    </script>

    <header id="headerSection" style="width: auto; height:120px;"></header>

    <section style="margin-top: 10px; width: auto; height: auto; background-color: gainsboro">
        <div id="divContainer">

        </div>
    </section>

</body>
</html>
